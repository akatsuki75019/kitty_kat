<h1>Carts#show</h1>
<p>Find me in app/views/carts/show.html.erb</p>


<% if @cart_items.any? %>
  <ul>
        <% total = 0 %> <!--Initialisation du prix total à 0 avant la  boucle. --->
    <% @cart_items.each do |cart_item| %>
      <li>
        <%= cart_item.item.title %> -
        <%= cart_item.item.price %> -
      </li>
      <% total += cart_item.item.price %> <!-- À chaque itération, le prix de l'article actuel est ajouté à la variable total.--->
    <% end %>
      <form action="/create-checkout-session" method="POST">
        <button type="submit" id="checkout-button">Checkout</button>
      </form>
  </ul>
    <p>Total de votre panier : <%= total %></p>
<% else %>
  <p>Votre panier est vide.</p>
<% end %>

<%= link_to "Retour aux articles", items_path %>